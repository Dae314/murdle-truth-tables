var he=(o,t,l)=>{if(!t.has(o))throw TypeError("Cannot "+l)};var P=(o,t,l)=>(he(o,t,"read from private field"),l?l.call(o):t.get(o)),K=(o,t,l)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,l)};import{s as ie,f as v,g as k,h as q,d as m,j as T,i as O,y as J,F as A,l as z,a as $,m as F,c as L,I as Q,x as C,B as ae,n as G,A as j,z as ue,o as _e,J as H,G as M}from"../chunks/scheduler.a0b1952d.js";import{S as re,i as ce,a as E,c as U,t as I,g as V,b as de,d as pe,m as ge,e as me}from"../chunks/index.1fdfa824.js";import{e as w,T as R}from"../chunks/TruthTableData.aa5436a7.js";import{b as ye}from"../chunks/paths.6521c454.js";var N;class W{constructor(t){K(this,N,[]);this.categories="categories"in t?[...t.categories].filter(l=>l.active):[],this.keyCategory="keyCategory"in t?t.keyCategory:0,this.keyOption="keyOption"in t?t.keyOption:0,this.eliminated=!1,this.categories[this.keyCategory]&&(this.categories[this.keyCategory].key=!0);for(let l of this.categories){if(l.key)for(let e=0;e<l.options.length;e++)e===this.keyOption?P(this,N).push({name:l.options[e],categoryID:l.id,key:!0,state:0}):P(this,N).push({name:l.options[e],categoryID:l.id,key:!1,state:0});for(let e of l.options)P(this,N).push({name:e,categoryID:l.id,key:!1,state:0})}this.headRow=this.categories.map(l=>l.name),this.body=[];for(let l of this.categories[this.keyCategory].options){let e=[];e.push({data:l,type:"basic",key:this.categories[this.keyCategory].options.indexOf(l)===this.keyOption});for(let n of this.categories.filter((s,c)=>c!==this.keyCategory))e.push({data:P(this,N).filter(s=>s.categoryID===n.id).map(s=>JSON.parse(JSON.stringify(s))),type:"optionList"});this.body.push(e)}}}N=new WeakMap;function X(o,t,l){const e=o.slice();return e[4]=t[l],e[5]=t,e[6]=l,e}function Y(o){let t,l,e=o[4].name+"",n,s,c,i,a;function r(){return o[3](o[4],o[5],o[6])}return{c(){t=v("button"),l=v("span"),n=z(e),s=$(),this.h()},l(f){t=k(f,"BUTTON",{type:!0,class:!0});var b=q(t);l=k(b,"SPAN",{});var _=q(l);n=F(_,e),_.forEach(m),s=L(b),b.forEach(m),this.h()},h(){T(t,"type","button"),T(t,"class",c=Q(o[2][o[4].state])+" svelte-1ttmd5q"),t.disabled=o[1]},m(f,b){O(f,t,b),C(t,l),C(l,n),C(t,s),i||(a=ae(t,"click",r),i=!0)},p(f,b){o=f,b&1&&e!==(e=o[4].name+"")&&G(n,e),b&1&&c!==(c=Q(o[2][o[4].state])+" svelte-1ttmd5q")&&T(t,"class",c),b&2&&(t.disabled=o[1])},d(f){f&&m(t),i=!1,a()}}}function be(o){let t,l=w(o[0]),e=[];for(let n=0;n<l.length;n+=1)e[n]=Y(X(o,l,n));return{c(){t=v("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=k(n,"DIV",{class:!0});var s=q(t);for(let c=0;c<e.length;c+=1)e[c].l(s);s.forEach(m),this.h()},h(){T(t,"class","optionPicker svelte-1ttmd5q")},m(n,s){O(n,t,s);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null)},p(n,[s]){if(s&7){l=w(n[0]);let c;for(c=0;c<l.length;c+=1){const i=X(n,l,c);e[c]?e[c].p(i,s):(e[c]=Y(i),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=l.length}},i:J,o:J,d(n){n&&m(t),A(e,n)}}}function ve(o,t,l){let{options:e=[]}=t,{disabled:n=!1}=t;const s=["unknown","assigned","eliminated"],c=(i,a,r)=>l(0,a[r].state=(i.state+1)%s.length,e);return o.$$set=i=>{"options"in i&&l(0,e=i.options),"disabled"in i&&l(1,n=i.disabled)},[e,n,s,c]}class ke extends re{constructor(t){super(),ce(this,t,ve,be,ie,{options:0,disabled:1})}}function Z(o,t,l){const e=o.slice();return e[4]=t[l],e[5]=t,e[6]=l,e}function x(o,t,l){const e=o.slice();return e[7]=t[l],e}function ee(o,t,l){const e=o.slice();return e[10]=t[l],e}function te(o,t,l){const e=o.slice();return e[13]=t[l],e}function le(o){let t,l=o[13]+"",e;return{c(){t=v("th"),e=z(l),this.h()},l(n){t=k(n,"TH",{class:!0});var s=q(t);e=F(s,l),s.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f")},m(n,s){O(n,t,s),C(t,e)},p(n,s){s&1&&l!==(l=n[13]+"")&&G(e,l)},d(n){n&&m(t)}}}function Te(o){let t,l;return t=new ke({props:{options:o[10].data,disabled:o[4].eliminated}}),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,n){ge(t,e,n),l=!0},p(e,n){const s={};n&1&&(s.options=e[10].data),n&1&&(s.disabled=e[4].eliminated),t.$set(s)},i(e){l||(E(t.$$.fragment,e),l=!0)},o(e){I(t.$$.fragment,e),l=!1},d(e){me(t,e)}}}function Ce(o){let t,l=o[10].data+"",e;return{c(){t=v("span"),e=z(l),this.h()},l(n){t=k(n,"SPAN",{class:!0});var s=q(t);e=F(s,l),s.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f"),M(t,"key",o[10].key)},m(n,s){O(n,t,s),C(t,e)},p(n,s){s&1&&l!==(l=n[10].data+"")&&G(e,l),s&1&&M(t,"key",n[10].key)},i:J,o:J,d(n){n&&m(t)}}}function se(o){let t,l,e,n;const s=[Ce,Te],c=[];function i(a,r){return a[10].type==="basic"?0:a[10].type==="optionList"?1:-1}return~(l=i(o))&&(e=c[l]=s[l](o)),{c(){t=v("td"),e&&e.c(),this.h()},l(a){t=k(a,"TD",{class:!0});var r=q(t);e&&e.l(r),r.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f")},m(a,r){O(a,t,r),~l&&c[l].m(t,null),n=!0},p(a,r){let f=l;l=i(a),l===f?~l&&c[l].p(a,r):(e&&(V(),I(c[f],1,1,()=>{c[f]=null}),U()),~l?(e=c[l],e?e.p(a,r):(e=c[l]=s[l](a),e.c()),E(e,1),e.m(t,null)):e=null)},i(a){n||(E(e),n=!0)},o(a){I(e),n=!1},d(a){a&&m(t),~l&&c[l].d()}}}function ne(o){let t,l,e,n=w(o[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=se(ee(o,n,i));const c=i=>I(s[i],1,1,()=>{s[i]=null});return{c(){t=v("tr");for(let i=0;i<s.length;i+=1)s[i].c();l=$()},l(i){t=k(i,"TR",{});var a=q(t);for(let r=0;r<s.length;r+=1)s[r].l(a);l=L(a),a.forEach(m)},m(i,a){O(i,t,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null);C(t,l),e=!0},p(i,a){if(a&1){n=w(i[7]);let r;for(r=0;r<n.length;r+=1){const f=ee(i,n,r);s[r]?(s[r].p(f,a),E(s[r],1)):(s[r]=se(f),s[r].c(),E(s[r],1),s[r].m(t,l))}for(V(),r=n.length;r<s.length;r+=1)c(r);U()}},i(i){if(!e){for(let a=0;a<n.length;a+=1)E(s[a]);e=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);e=!1},d(i){i&&m(t),A(s,i)}}}function oe(o){let t,l,e="Eliminate",n,s,c,i,a,r,f,b;function _(){return o[1](o[4],o[5],o[6])}let p=w(o[4].headRow),u=[];for(let d=0;d<p.length;d+=1)u[d]=le(te(o,p,d));let D=w(o[4].body),g=[];for(let d=0;d<D.length;d+=1)g[d]=ne(x(o,D,d));const fe=d=>I(g[d],1,1,()=>{g[d]=null});return{c(){t=v("div"),l=v("button"),l.textContent=e,n=$(),s=v("table"),c=v("tr");for(let d=0;d<u.length;d+=1)u[d].c();i=$();for(let d=0;d<g.length;d+=1)g[d].c();a=$(),this.h()},l(d){t=k(d,"DIV",{class:!0});var y=q(t);l=k(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-158d6rp"&&(l.textContent=e),n=L(y),s=k(y,"TABLE",{class:!0});var h=q(s);c=k(h,"TR",{});var S=q(c);for(let B=0;B<u.length;B+=1)u[B].l(S);S.forEach(m),i=L(h);for(let B=0;B<g.length;B+=1)g[B].l(h);h.forEach(m),a=L(y),y.forEach(m),this.h()},h(){T(l,"type","button"),T(l,"class","elimButton svelte-qyv76f"),T(s,"class","svelte-qyv76f"),M(s,"eliminated",o[4].eliminated),T(t,"class","tableDiv svelte-qyv76f")},m(d,y){O(d,t,y),C(t,l),C(t,n),C(t,s),C(s,c);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,null);C(s,i);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(s,null);C(t,a),r=!0,f||(b=ae(l,"click",_),f=!0)},p(d,y){if(o=d,y&1){p=w(o[4].headRow);let h;for(h=0;h<p.length;h+=1){const S=te(o,p,h);u[h]?u[h].p(S,y):(u[h]=le(S),u[h].c(),u[h].m(c,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=p.length}if(y&1){D=w(o[4].body);let h;for(h=0;h<D.length;h+=1){const S=x(o,D,h);g[h]?(g[h].p(S,y),E(g[h],1)):(g[h]=ne(S),g[h].c(),E(g[h],1),g[h].m(s,null))}for(V(),h=D.length;h<g.length;h+=1)fe(h);U()}(!r||y&1)&&M(s,"eliminated",o[4].eliminated)},i(d){if(!r){for(let y=0;y<D.length;y+=1)E(g[y]);r=!0}},o(d){g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)I(g[y]);r=!1},d(d){d&&m(t),A(u,d),A(g,d),f=!1,b()}}}function Oe(o){let t,l="Truth Tables",e,n,s=`<a href="${ye}/step1" class="svelte-qyv76f">Prev</a>`,c,i,a,r=w(o[0].truth_tables),f=[];for(let _=0;_<r.length;_+=1)f[_]=oe(Z(o,r,_));const b=_=>I(f[_],1,1,()=>{f[_]=null});return{c(){t=v("h1"),t.textContent=l,e=$(),n=v("section"),n.innerHTML=s,c=$(),i=v("section");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){t=k(_,"H1",{"data-svelte-h":!0}),j(t)!=="svelte-1haxy2e"&&(t.textContent=l),e=L(_),n=k(_,"SECTION",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1dsm6ul"&&(n.innerHTML=s),c=L(_),i=k(_,"SECTION",{class:!0});var p=q(i);for(let u=0;u<f.length;u+=1)f[u].l(p);p.forEach(m),this.h()},h(){T(n,"class","navigation svelte-qyv76f"),T(i,"class","tablesDisplay svelte-qyv76f")},m(_,p){O(_,t,p),O(_,e,p),O(_,n,p),O(_,c,p),O(_,i,p);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(i,null);a=!0},p(_,[p]){if(p&1){r=w(_[0].truth_tables);let u;for(u=0;u<r.length;u+=1){const D=Z(_,r,u);f[u]?(f[u].p(D,p),E(f[u],1)):(f[u]=oe(D),f[u].c(),E(f[u],1),f[u].m(i,null))}for(V(),u=r.length;u<f.length;u+=1)b(u);U()}},i(_){if(!a){for(let p=0;p<r.length;p+=1)E(f[p]);a=!0}},o(_){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)I(f[p]);a=!1},d(_){_&&(m(t),m(e),m(n),m(c),m(i)),A(f,_)}}}function Ee(o,t,l){let e;ue(o,R,i=>l(0,e=i)),_e(async()=>{n(),s()});function n(){for(let i of e.murdle_categories.filter(a=>a.active)){i.options=[];const a=i.rawOptions.trim();a&&(i.options=a.split(`
`))}}function s(){H(R,e.truth_tables=[],e);const i=e.murdle_categories.findIndex(a=>a.name==="Suspects");if(e.simplified){let a=new W({categories:e.murdle_categories,keyCategory:i});H(R,e.truth_tables=[a],e)}else for(let a of e.murdle_categories[i].options){let r=new W({categories:e.murdle_categories,keyCategory:i,keyOption:e.murdle_categories[i].options.findIndex(f=>f===a)});H(R,e.truth_tables=[...e.truth_tables,r],e)}}return[e,(i,a,r)=>H(R,a[r].eliminated=!i.eliminated,e)]}class Be extends re{constructor(t){super(),ce(this,t,Ee,Oe,ie,{})}}export{Be as component};
