var fe=(o,t,l)=>{if(!t.has(o))throw TypeError("Cannot "+l)};var P=(o,t,l)=>(fe(o,t,"read from private field"),l?l.call(o):t.get(o)),K=(o,t,l)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,l)};import{s as oe,n as H,f as Q,e as he,o as ue,h as V}from"../chunks/scheduler.b82d157b.js";import{S as ie,i as ae,g as b,h as k,j as q,f as m,k as T,a as C,z as R,m as z,s as $,n as F,c as L,x as O,B as re,o as G,y as j,d as E,b as J,t as I,A as M,p as U,r as _e,u as pe,v as de,w as ge}from"../chunks/index.a145189e.js";import{e as w,T as A}from"../chunks/TruthTableData.cb8b4d96.js";import{b as me}from"../chunks/paths.66df694e.js";var N;class ye{constructor(t){K(this,N,[]);this.categories="categories"in t?[...t.categories].filter(l=>l.active):[],this.keyCategory="keyCategory"in t?t.keyCategory:0,this.keyOption="keyOption"in t?t.keyOption:0,this.eliminated=!1,this.categories[this.keyCategory]&&(this.categories[this.keyCategory].key=!0);for(let l of this.categories){if(l.key)for(let e=0;e<l.options.length;e++)e===this.keyOption?P(this,N).push({name:l.options[e],categoryID:l.id,key:!0,state:0}):P(this,N).push({name:l.options[e],categoryID:l.id,key:!1,state:0});for(let e of l.options)P(this,N).push({name:e,categoryID:l.id,key:!1,state:0})}this.headRow=this.categories.map(l=>l.name),this.body=[];for(let l of this.categories[this.keyCategory].options){let e=[];e.push({data:l,type:"basic",key:this.categories[this.keyCategory].options.indexOf(l)===this.keyOption});for(let n of this.categories.filter((s,c)=>c!==this.keyCategory))e.push({data:P(this,N).filter(s=>s.categoryID===n.id).map(s=>JSON.parse(JSON.stringify(s))),type:"optionList"});this.body.push(e)}}}N=new WeakMap;function W(o,t,l){const e=o.slice();return e[4]=t[l],e[5]=t,e[6]=l,e}function X(o){let t,l,e=o[4].name+"",n,s,c,i,a;function r(){return o[3](o[4],o[5],o[6])}return{c(){t=b("button"),l=b("span"),n=z(e),s=$(),this.h()},l(f){t=k(f,"BUTTON",{type:!0,class:!0});var v=q(t);l=k(v,"SPAN",{});var _=q(l);n=F(_,e),_.forEach(m),s=L(v),v.forEach(m),this.h()},h(){T(t,"type","button"),T(t,"class",c=Q(o[2][o[4].state])+" svelte-1ttmd5q"),t.disabled=o[1]},m(f,v){C(f,t,v),O(t,l),O(l,n),O(t,s),i||(a=re(t,"click",r),i=!0)},p(f,v){o=f,v&1&&e!==(e=o[4].name+"")&&G(n,e),v&1&&c!==(c=Q(o[2][o[4].state])+" svelte-1ttmd5q")&&T(t,"class",c),v&2&&(t.disabled=o[1])},d(f){f&&m(t),i=!1,a()}}}function ve(o){let t,l=w(o[0]),e=[];for(let n=0;n<l.length;n+=1)e[n]=X(W(o,l,n));return{c(){t=b("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=k(n,"DIV",{class:!0});var s=q(t);for(let c=0;c<e.length;c+=1)e[c].l(s);s.forEach(m),this.h()},h(){T(t,"class","optionPicker svelte-1ttmd5q")},m(n,s){C(n,t,s);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null)},p(n,[s]){if(s&7){l=w(n[0]);let c;for(c=0;c<l.length;c+=1){const i=W(n,l,c);e[c]?e[c].p(i,s):(e[c]=X(i),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=l.length}},i:H,o:H,d(n){n&&m(t),R(e,n)}}}function be(o,t,l){let{options:e=[]}=t,{disabled:n=!1}=t;const s=["unknown","assigned","eliminated"],c=(i,a,r)=>l(0,a[r].state=(i.state+1)%s.length,e);return o.$$set=i=>{"options"in i&&l(0,e=i.options),"disabled"in i&&l(1,n=i.disabled)},[e,n,s,c]}class ke extends ie{constructor(t){super(),ae(this,t,be,ve,oe,{options:0,disabled:1})}}function Y(o,t,l){const e=o.slice();return e[4]=t[l],e[5]=t,e[6]=l,e}function Z(o,t,l){const e=o.slice();return e[7]=t[l],e}function x(o,t,l){const e=o.slice();return e[10]=t[l],e}function ee(o,t,l){const e=o.slice();return e[13]=t[l],e}function te(o){let t,l=o[13]+"",e;return{c(){t=b("th"),e=z(l),this.h()},l(n){t=k(n,"TH",{class:!0});var s=q(t);e=F(s,l),s.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f")},m(n,s){C(n,t,s),O(t,e)},p(n,s){s&1&&l!==(l=n[13]+"")&&G(e,l)},d(n){n&&m(t)}}}function Te(o){let t,l;return t=new ke({props:{options:o[10].data,disabled:o[4].eliminated}}),{c(){_e(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,n){de(t,e,n),l=!0},p(e,n){const s={};n&1&&(s.options=e[10].data),n&1&&(s.disabled=e[4].eliminated),t.$set(s)},i(e){l||(E(t.$$.fragment,e),l=!0)},o(e){I(t.$$.fragment,e),l=!1},d(e){ge(t,e)}}}function Oe(o){let t,l=o[10].data+"",e;return{c(){t=b("span"),e=z(l),this.h()},l(n){t=k(n,"SPAN",{class:!0});var s=q(t);e=F(s,l),s.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f"),M(t,"key",o[10].key)},m(n,s){C(n,t,s),O(t,e)},p(n,s){s&1&&l!==(l=n[10].data+"")&&G(e,l),s&1&&M(t,"key",n[10].key)},i:H,o:H,d(n){n&&m(t)}}}function le(o){let t,l,e,n;const s=[Oe,Te],c=[];function i(a,r){return a[10].type==="basic"?0:a[10].type==="optionList"?1:-1}return~(l=i(o))&&(e=c[l]=s[l](o)),{c(){t=b("td"),e&&e.c(),this.h()},l(a){t=k(a,"TD",{class:!0});var r=q(t);e&&e.l(r),r.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f")},m(a,r){C(a,t,r),~l&&c[l].m(t,null),n=!0},p(a,r){let f=l;l=i(a),l===f?~l&&c[l].p(a,r):(e&&(U(),I(c[f],1,1,()=>{c[f]=null}),J()),~l?(e=c[l],e?e.p(a,r):(e=c[l]=s[l](a),e.c()),E(e,1),e.m(t,null)):e=null)},i(a){n||(E(e),n=!0)},o(a){I(e),n=!1},d(a){a&&m(t),~l&&c[l].d()}}}function se(o){let t,l,e,n=w(o[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=le(x(o,n,i));const c=i=>I(s[i],1,1,()=>{s[i]=null});return{c(){t=b("tr");for(let i=0;i<s.length;i+=1)s[i].c();l=$()},l(i){t=k(i,"TR",{});var a=q(t);for(let r=0;r<s.length;r+=1)s[r].l(a);l=L(a),a.forEach(m)},m(i,a){C(i,t,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null);O(t,l),e=!0},p(i,a){if(a&1){n=w(i[7]);let r;for(r=0;r<n.length;r+=1){const f=x(i,n,r);s[r]?(s[r].p(f,a),E(s[r],1)):(s[r]=le(f),s[r].c(),E(s[r],1),s[r].m(t,l))}for(U(),r=n.length;r<s.length;r+=1)c(r);J()}},i(i){if(!e){for(let a=0;a<n.length;a+=1)E(s[a]);e=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);e=!1},d(i){i&&m(t),R(s,i)}}}function ne(o){let t,l,e="Eliminate",n,s,c,i,a,r,f,v;function _(){return o[1](o[4],o[5],o[6])}let d=w(o[4].headRow),u=[];for(let p=0;p<d.length;p+=1)u[p]=te(ee(o,d,p));let D=w(o[4].body),g=[];for(let p=0;p<D.length;p+=1)g[p]=se(Z(o,D,p));const ce=p=>I(g[p],1,1,()=>{g[p]=null});return{c(){t=b("div"),l=b("button"),l.textContent=e,n=$(),s=b("table"),c=b("tr");for(let p=0;p<u.length;p+=1)u[p].c();i=$();for(let p=0;p<g.length;p+=1)g[p].c();a=$(),this.h()},l(p){t=k(p,"DIV",{class:!0});var y=q(t);l=k(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-158d6rp"&&(l.textContent=e),n=L(y),s=k(y,"TABLE",{class:!0});var h=q(s);c=k(h,"TR",{});var S=q(c);for(let B=0;B<u.length;B+=1)u[B].l(S);S.forEach(m),i=L(h);for(let B=0;B<g.length;B+=1)g[B].l(h);h.forEach(m),a=L(y),y.forEach(m),this.h()},h(){T(l,"type","button"),T(l,"class","elimButton svelte-qyv76f"),T(s,"class","svelte-qyv76f"),M(s,"eliminated",o[4].eliminated),T(t,"class","tableDiv svelte-qyv76f")},m(p,y){C(p,t,y),O(t,l),O(t,n),O(t,s),O(s,c);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,null);O(s,i);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(s,null);O(t,a),r=!0,f||(v=re(l,"click",_),f=!0)},p(p,y){if(o=p,y&1){d=w(o[4].headRow);let h;for(h=0;h<d.length;h+=1){const S=ee(o,d,h);u[h]?u[h].p(S,y):(u[h]=te(S),u[h].c(),u[h].m(c,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=d.length}if(y&1){D=w(o[4].body);let h;for(h=0;h<D.length;h+=1){const S=Z(o,D,h);g[h]?(g[h].p(S,y),E(g[h],1)):(g[h]=se(S),g[h].c(),E(g[h],1),g[h].m(s,null))}for(U(),h=D.length;h<g.length;h+=1)ce(h);J()}(!r||y&1)&&M(s,"eliminated",o[4].eliminated)},i(p){if(!r){for(let y=0;y<D.length;y+=1)E(g[y]);r=!0}},o(p){g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)I(g[y]);r=!1},d(p){p&&m(t),R(u,p),R(g,p),f=!1,v()}}}function Ce(o){let t,l="Truth Tables",e,n,s=`<a href="${me}/step1" class="svelte-qyv76f">Prev</a>`,c,i,a,r=w(o[0].truth_tables),f=[];for(let _=0;_<r.length;_+=1)f[_]=ne(Y(o,r,_));const v=_=>I(f[_],1,1,()=>{f[_]=null});return{c(){t=b("h1"),t.textContent=l,e=$(),n=b("section"),n.innerHTML=s,c=$(),i=b("section");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){t=k(_,"H1",{"data-svelte-h":!0}),j(t)!=="svelte-1haxy2e"&&(t.textContent=l),e=L(_),n=k(_,"SECTION",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1dsm6ul"&&(n.innerHTML=s),c=L(_),i=k(_,"SECTION",{class:!0});var d=q(i);for(let u=0;u<f.length;u+=1)f[u].l(d);d.forEach(m),this.h()},h(){T(n,"class","navigation svelte-qyv76f"),T(i,"class","tablesDisplay svelte-qyv76f")},m(_,d){C(_,t,d),C(_,e,d),C(_,n,d),C(_,c,d),C(_,i,d);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(i,null);a=!0},p(_,[d]){if(d&1){r=w(_[0].truth_tables);let u;for(u=0;u<r.length;u+=1){const D=Y(_,r,u);f[u]?(f[u].p(D,d),E(f[u],1)):(f[u]=ne(D),f[u].c(),E(f[u],1),f[u].m(i,null))}for(U(),u=r.length;u<f.length;u+=1)v(u);J()}},i(_){if(!a){for(let d=0;d<r.length;d+=1)E(f[d]);a=!0}},o(_){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)I(f[d]);a=!1},d(_){_&&(m(t),m(e),m(n),m(c),m(i)),R(f,_)}}}function Ee(o,t,l){let e;he(o,A,i=>l(0,e=i)),ue(async()=>{n(),s()});function n(){for(let i of e.murdle_categories.filter(a=>a.active)){i.options=[];const a=i.rawOptions.trim();a&&(i.options=a.split(`
`))}}function s(){V(A,e.truth_tables=[],e);const i=e.murdle_categories.findIndex(a=>a.name==="Suspects");for(let a of e.murdle_categories[i].options){let r=new ye({categories:e.murdle_categories,keyCategory:i,keyOption:e.murdle_categories[i].options.findIndex(f=>f===a)});V(A,e.truth_tables=[...e.truth_tables,r],e)}}return[e,(i,a,r)=>V(A,a[r].eliminated=!i.eliminated,e)]}class Be extends ie{constructor(t){super(),ae(this,t,Ee,Ce,oe,{})}}export{Be as component};
