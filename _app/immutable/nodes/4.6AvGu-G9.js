import{s as se,f as v,g as k,h as q,d as m,j as T,i as O,y as A,F as P,l as V,a as N,m as j,c as $,I as F,x as C,B as ne,n as z,A as U,z as re,o as ce,J as R,G as H}from"../chunks/scheduler.tkLZKF5o.js";import{S as oe,i as ie,a as E,c as J,t as I,g as M,b as fe,d as he,m as ue,e as _e}from"../chunks/index.ju2EFUci.js";import{e as w,T as L}from"../chunks/TruthTableData.8c0WtXbg.js";import{b as de}from"../chunks/paths.7zyB0UI6.js";class G{#e=[];constructor(t){this.categories="categories"in t?[...t.categories].filter(l=>l.active):[],this.keyCategory="keyCategory"in t?t.keyCategory:0,this.keyOption="keyOption"in t?t.keyOption:0,this.eliminated=!1,this.categories[this.keyCategory]&&(this.categories[this.keyCategory].key=!0);for(let l of this.categories){if(l.key)for(let e=0;e<l.options.length;e++)e===this.keyOption?this.#e.push({name:l.options[e],categoryID:l.id,key:!0,state:0}):this.#e.push({name:l.options[e],categoryID:l.id,key:!1,state:0});for(let e of l.options)this.#e.push({name:e,categoryID:l.id,key:!1,state:0})}this.headRow=this.categories.map(l=>l.name),this.body=[];for(let l of this.categories[this.keyCategory].options){let e=[];e.push({data:l,type:"basic",key:this.categories[this.keyCategory].options.indexOf(l)===this.keyOption});for(let n of this.categories.filter((s,c)=>c!==this.keyCategory))e.push({data:this.#e.filter(s=>s.categoryID===n.id).map(s=>JSON.parse(JSON.stringify(s))),type:"optionList"});this.body.push(e)}}}function K(o,t,l){const e=o.slice();return e[4]=t[l],e[5]=t,e[6]=l,e}function Q(o){let t,l,e=o[4].name+"",n,s,c,i,a;function r(){return o[3](o[4],o[5],o[6])}return{c(){t=v("button"),l=v("span"),n=V(e),s=N(),this.h()},l(f){t=k(f,"BUTTON",{type:!0,class:!0});var b=q(t);l=k(b,"SPAN",{});var _=q(l);n=j(_,e),_.forEach(m),s=$(b),b.forEach(m),this.h()},h(){T(t,"type","button"),T(t,"class",c=F(o[2][o[4].state])+" svelte-1ttmd5q"),t.disabled=o[1]},m(f,b){O(f,t,b),C(t,l),C(l,n),C(t,s),i||(a=ne(t,"click",r),i=!0)},p(f,b){o=f,b&1&&e!==(e=o[4].name+"")&&z(n,e),b&1&&c!==(c=F(o[2][o[4].state])+" svelte-1ttmd5q")&&T(t,"class",c),b&2&&(t.disabled=o[1])},d(f){f&&m(t),i=!1,a()}}}function pe(o){let t,l=w(o[0]),e=[];for(let n=0;n<l.length;n+=1)e[n]=Q(K(o,l,n));return{c(){t=v("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=k(n,"DIV",{class:!0});var s=q(t);for(let c=0;c<e.length;c+=1)e[c].l(s);s.forEach(m),this.h()},h(){T(t,"class","optionPicker svelte-1ttmd5q")},m(n,s){O(n,t,s);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null)},p(n,[s]){if(s&7){l=w(n[0]);let c;for(c=0;c<l.length;c+=1){const i=K(n,l,c);e[c]?e[c].p(i,s):(e[c]=Q(i),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=l.length}},i:A,o:A,d(n){n&&m(t),P(e,n)}}}function ge(o,t,l){let{options:e=[]}=t,{disabled:n=!1}=t;const s=["unknown","assigned","eliminated"],c=(i,a,r)=>l(0,a[r].state=(i.state+1)%s.length,e);return o.$$set=i=>{"options"in i&&l(0,e=i.options),"disabled"in i&&l(1,n=i.disabled)},[e,n,s,c]}class me extends oe{constructor(t){super(),ie(this,t,ge,pe,se,{options:0,disabled:1})}}function W(o,t,l){const e=o.slice();return e[4]=t[l],e[5]=t,e[6]=l,e}function X(o,t,l){const e=o.slice();return e[7]=t[l],e}function Y(o,t,l){const e=o.slice();return e[10]=t[l],e}function Z(o,t,l){const e=o.slice();return e[13]=t[l],e}function x(o){let t,l=o[13]+"",e;return{c(){t=v("th"),e=V(l),this.h()},l(n){t=k(n,"TH",{class:!0});var s=q(t);e=j(s,l),s.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f")},m(n,s){O(n,t,s),C(t,e)},p(n,s){s&1&&l!==(l=n[13]+"")&&z(e,l)},d(n){n&&m(t)}}}function ye(o){let t,l;return t=new me({props:{options:o[10].data,disabled:o[4].eliminated}}),{c(){fe(t.$$.fragment)},l(e){he(t.$$.fragment,e)},m(e,n){ue(t,e,n),l=!0},p(e,n){const s={};n&1&&(s.options=e[10].data),n&1&&(s.disabled=e[4].eliminated),t.$set(s)},i(e){l||(E(t.$$.fragment,e),l=!0)},o(e){I(t.$$.fragment,e),l=!1},d(e){_e(t,e)}}}function be(o){let t,l=o[10].data+"",e;return{c(){t=v("span"),e=V(l),this.h()},l(n){t=k(n,"SPAN",{class:!0});var s=q(t);e=j(s,l),s.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f"),H(t,"key",o[10].key)},m(n,s){O(n,t,s),C(t,e)},p(n,s){s&1&&l!==(l=n[10].data+"")&&z(e,l),s&1&&H(t,"key",n[10].key)},i:A,o:A,d(n){n&&m(t)}}}function ee(o){let t,l,e,n;const s=[be,ye],c=[];function i(a,r){return a[10].type==="basic"?0:a[10].type==="optionList"?1:-1}return~(l=i(o))&&(e=c[l]=s[l](o)),{c(){t=v("td"),e&&e.c(),this.h()},l(a){t=k(a,"TD",{class:!0});var r=q(t);e&&e.l(r),r.forEach(m),this.h()},h(){T(t,"class","svelte-qyv76f")},m(a,r){O(a,t,r),~l&&c[l].m(t,null),n=!0},p(a,r){let f=l;l=i(a),l===f?~l&&c[l].p(a,r):(e&&(M(),I(c[f],1,1,()=>{c[f]=null}),J()),~l?(e=c[l],e?e.p(a,r):(e=c[l]=s[l](a),e.c()),E(e,1),e.m(t,null)):e=null)},i(a){n||(E(e),n=!0)},o(a){I(e),n=!1},d(a){a&&m(t),~l&&c[l].d()}}}function te(o){let t,l,e,n=w(o[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=ee(Y(o,n,i));const c=i=>I(s[i],1,1,()=>{s[i]=null});return{c(){t=v("tr");for(let i=0;i<s.length;i+=1)s[i].c();l=N()},l(i){t=k(i,"TR",{});var a=q(t);for(let r=0;r<s.length;r+=1)s[r].l(a);l=$(a),a.forEach(m)},m(i,a){O(i,t,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null);C(t,l),e=!0},p(i,a){if(a&1){n=w(i[7]);let r;for(r=0;r<n.length;r+=1){const f=Y(i,n,r);s[r]?(s[r].p(f,a),E(s[r],1)):(s[r]=ee(f),s[r].c(),E(s[r],1),s[r].m(t,l))}for(M(),r=n.length;r<s.length;r+=1)c(r);J()}},i(i){if(!e){for(let a=0;a<n.length;a+=1)E(s[a]);e=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);e=!1},d(i){i&&m(t),P(s,i)}}}function le(o){let t,l,e="Eliminate",n,s,c,i,a,r,f,b;function _(){return o[1](o[4],o[5],o[6])}let p=w(o[4].headRow),u=[];for(let d=0;d<p.length;d+=1)u[d]=x(Z(o,p,d));let D=w(o[4].body),g=[];for(let d=0;d<D.length;d+=1)g[d]=te(X(o,D,d));const ae=d=>I(g[d],1,1,()=>{g[d]=null});return{c(){t=v("div"),l=v("button"),l.textContent=e,n=N(),s=v("table"),c=v("tr");for(let d=0;d<u.length;d+=1)u[d].c();i=N();for(let d=0;d<g.length;d+=1)g[d].c();a=N(),this.h()},l(d){t=k(d,"DIV",{class:!0});var y=q(t);l=k(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(l)!=="svelte-158d6rp"&&(l.textContent=e),n=$(y),s=k(y,"TABLE",{class:!0});var h=q(s);c=k(h,"TR",{});var S=q(c);for(let B=0;B<u.length;B+=1)u[B].l(S);S.forEach(m),i=$(h);for(let B=0;B<g.length;B+=1)g[B].l(h);h.forEach(m),a=$(y),y.forEach(m),this.h()},h(){T(l,"type","button"),T(l,"class","elimButton svelte-qyv76f"),T(s,"class","svelte-qyv76f"),H(s,"eliminated",o[4].eliminated),T(t,"class","tableDiv svelte-qyv76f")},m(d,y){O(d,t,y),C(t,l),C(t,n),C(t,s),C(s,c);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,null);C(s,i);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(s,null);C(t,a),r=!0,f||(b=ne(l,"click",_),f=!0)},p(d,y){if(o=d,y&1){p=w(o[4].headRow);let h;for(h=0;h<p.length;h+=1){const S=Z(o,p,h);u[h]?u[h].p(S,y):(u[h]=x(S),u[h].c(),u[h].m(c,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=p.length}if(y&1){D=w(o[4].body);let h;for(h=0;h<D.length;h+=1){const S=X(o,D,h);g[h]?(g[h].p(S,y),E(g[h],1)):(g[h]=te(S),g[h].c(),E(g[h],1),g[h].m(s,null))}for(M(),h=D.length;h<g.length;h+=1)ae(h);J()}(!r||y&1)&&H(s,"eliminated",o[4].eliminated)},i(d){if(!r){for(let y=0;y<D.length;y+=1)E(g[y]);r=!0}},o(d){g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)I(g[y]);r=!1},d(d){d&&m(t),P(u,d),P(g,d),f=!1,b()}}}function ve(o){let t,l="Truth Tables",e,n,s=`<a href="${de}/step1" class="svelte-qyv76f">Prev</a>`,c,i,a,r=w(o[0].truth_tables),f=[];for(let _=0;_<r.length;_+=1)f[_]=le(W(o,r,_));const b=_=>I(f[_],1,1,()=>{f[_]=null});return{c(){t=v("h1"),t.textContent=l,e=N(),n=v("section"),n.innerHTML=s,c=N(),i=v("section");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){t=k(_,"H1",{"data-svelte-h":!0}),U(t)!=="svelte-1haxy2e"&&(t.textContent=l),e=$(_),n=k(_,"SECTION",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1dsm6ul"&&(n.innerHTML=s),c=$(_),i=k(_,"SECTION",{class:!0});var p=q(i);for(let u=0;u<f.length;u+=1)f[u].l(p);p.forEach(m),this.h()},h(){T(n,"class","navigation svelte-qyv76f"),T(i,"class","tablesDisplay svelte-qyv76f")},m(_,p){O(_,t,p),O(_,e,p),O(_,n,p),O(_,c,p),O(_,i,p);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(i,null);a=!0},p(_,[p]){if(p&1){r=w(_[0].truth_tables);let u;for(u=0;u<r.length;u+=1){const D=W(_,r,u);f[u]?(f[u].p(D,p),E(f[u],1)):(f[u]=le(D),f[u].c(),E(f[u],1),f[u].m(i,null))}for(M(),u=r.length;u<f.length;u+=1)b(u);J()}},i(_){if(!a){for(let p=0;p<r.length;p+=1)E(f[p]);a=!0}},o(_){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)I(f[p]);a=!1},d(_){_&&(m(t),m(e),m(n),m(c),m(i)),P(f,_)}}}function ke(o,t,l){let e;re(o,L,i=>l(0,e=i)),ce(async()=>{n(),s()});function n(){for(let i of e.murdle_categories.filter(a=>a.active)){i.options=[];const a=i.rawOptions.trim();a&&(i.options=a.split(`
`))}}function s(){R(L,e.truth_tables=[],e);const i=e.murdle_categories.findIndex(a=>a.name==="Suspects");if(e.simplified){let a=new G({categories:e.murdle_categories,keyCategory:i});R(L,e.truth_tables=[a],e)}else for(let a of e.murdle_categories[i].options){let r=new G({categories:e.murdle_categories,keyCategory:i,keyOption:e.murdle_categories[i].options.findIndex(f=>f===a)});R(L,e.truth_tables=[...e.truth_tables,r],e)}}return[e,(i,a,r)=>R(L,a[r].eliminated=!i.eliminated,e)]}class qe extends oe{constructor(t){super(),ie(this,t,ke,ve,se,{})}}export{qe as component};
