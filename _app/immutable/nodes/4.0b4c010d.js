var le=(i,t,l)=>{if(!t.has(i))throw TypeError("Cannot "+l)};var E=(i,t,l)=>(le(i,t,"read from private field"),l?l.call(i):t.get(i)),A=(i,t,l)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,l)};import{s as Z,n as x,f as H,e as se,o as oe,h as M}from"../chunks/scheduler.b82d157b.js";import{S as ee,i as te,g as m,h as y,j as T,f as g,k as v,a as d,z as D,m as L,s as w,n as P,c as S,x as C,B as ne,o as R,y as J,d as k,b as I,t as O,p as N,r as ie,u as ae,v as re,w as ce,A as j}from"../chunks/index.a145189e.js";import{e as b,T as B}from"../chunks/TruthTableData.aa9254ac.js";import{b as he}from"../chunks/paths.b9ebce7a.js";var $;class fe{constructor(t){A(this,$,[]);this.categories="categories"in t?[...t.categories].filter(l=>l.active):[],this.keyCategory="keyCategory"in t?t.keyCategory:0,this.keyOption="keyOption"in t?t.keyOption:0,this.categories[this.keyCategory]&&(this.categories[this.keyCategory].key=!0);for(let l of this.categories){if(l.key)for(let e=0;e<l.options.length;e++)e===this.keyOption?E(this,$).push({name:l.options[e],categoryID:l.id,key:!0,state:0}):E(this,$).push({name:l.options[e],categoryID:l.id,key:!1,state:0});for(let e of l.options)E(this,$).push({name:e,categoryID:l.id,key:!1,state:0})}this.headRow=this.categories.map(l=>l.name),this.body=[];for(let l of this.categories[this.keyCategory].options){let e=[];e.push({data:l,type:"basic",key:this.categories[this.keyCategory].options.indexOf(l)===this.keyOption});for(let s of this.categories.filter((h,o)=>o!==this.keyCategory))e.push({data:E(this,$).filter(h=>h.categoryID===s.id).map(h=>JSON.parse(JSON.stringify(h))),type:"optionList"});this.body.push(e)}}}$=new WeakMap;function z(i,t,l){const e=i.slice();return e[3]=t[l],e[4]=t,e[5]=l,e}function U(i){let t,l,e=i[3].name+"",s,h,o,n,r;function f(){return i[2](i[3],i[4],i[5])}return{c(){t=m("button"),l=m("span"),s=L(e),h=w(),this.h()},l(_){t=y(_,"BUTTON",{type:!0,class:!0});var u=T(t);l=y(u,"SPAN",{});var c=T(l);s=P(c,e),c.forEach(g),h=S(u),u.forEach(g),this.h()},h(){v(t,"type","button"),v(t,"class",o=H(i[1][i[3].state])+" svelte-1pgqe01")},m(_,u){d(_,t,u),C(t,l),C(l,s),C(t,h),n||(r=ne(t,"click",f),n=!0)},p(_,u){i=_,u&1&&e!==(e=i[3].name+"")&&R(s,e),u&1&&o!==(o=H(i[1][i[3].state])+" svelte-1pgqe01")&&v(t,"class",o)},d(_){_&&g(t),n=!1,r()}}}function ue(i){let t,l=b(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=U(z(i,l,s));return{c(){t=m("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=y(s,"DIV",{class:!0});var h=T(t);for(let o=0;o<e.length;o+=1)e[o].l(h);h.forEach(g),this.h()},h(){v(t,"class","optionPicker svelte-1pgqe01")},m(s,h){d(s,t,h);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null)},p(s,[h]){if(h&3){l=b(s[0]);let o;for(o=0;o<l.length;o+=1){const n=z(s,l,o);e[o]?e[o].p(n,h):(e[o]=U(n),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},i:x,o:x,d(s){s&&g(t),D(e,s)}}}function _e(i,t,l){let{options:e=[]}=t;const s=["unknown","assigned","eliminated"],h=(o,n,r)=>l(0,n[r].state=(o.state+1)%s.length,e);return i.$$set=o=>{"options"in o&&l(0,e=o.options)},[e,s,h]}class pe extends ee{constructor(t){super(),te(this,t,_e,ue,Z,{options:0})}}function V(i,t,l){const e=i.slice();return e[3]=t[l],e}function F(i,t,l){const e=i.slice();return e[6]=t[l],e}function G(i,t,l){const e=i.slice();return e[9]=t[l],e}function K(i,t,l){const e=i.slice();return e[12]=t[l],e}function Q(i){let t,l=i[12]+"",e;return{c(){t=m("th"),e=L(l),this.h()},l(s){t=y(s,"TH",{class:!0});var h=T(t);e=P(h,l),h.forEach(g),this.h()},h(){v(t,"class","svelte-mk0dx4")},m(s,h){d(s,t,h),C(t,e)},p(s,h){h&1&&l!==(l=s[12]+"")&&R(e,l)},d(s){s&&g(t)}}}function ge(i){let t,l;return t=new pe({props:{options:i[9].data}}),{c(){ie(t.$$.fragment)},l(e){ae(t.$$.fragment,e)},m(e,s){re(t,e,s),l=!0},p(e,s){const h={};s&1&&(h.options=e[9].data),t.$set(h)},i(e){l||(k(t.$$.fragment,e),l=!0)},o(e){O(t.$$.fragment,e),l=!1},d(e){ce(t,e)}}}function de(i){let t,l=i[9].data+"",e;return{c(){t=m("span"),e=L(l),this.h()},l(s){t=y(s,"SPAN",{class:!0});var h=T(t);e=P(h,l),h.forEach(g),this.h()},h(){v(t,"class","svelte-mk0dx4"),j(t,"key",i[9].key)},m(s,h){d(s,t,h),C(t,e)},p(s,h){h&1&&l!==(l=s[9].data+"")&&R(e,l),h&1&&j(t,"key",s[9].key)},i:x,o:x,d(s){s&&g(t)}}}function W(i){let t,l,e,s;const h=[de,ge],o=[];function n(r,f){return r[9].type==="basic"?0:r[9].type==="optionList"?1:-1}return~(l=n(i))&&(e=o[l]=h[l](i)),{c(){t=m("td"),e&&e.c(),this.h()},l(r){t=y(r,"TD",{class:!0});var f=T(t);e&&e.l(f),f.forEach(g),this.h()},h(){v(t,"class","svelte-mk0dx4")},m(r,f){d(r,t,f),~l&&o[l].m(t,null),s=!0},p(r,f){let _=l;l=n(r),l===_?~l&&o[l].p(r,f):(e&&(N(),O(o[_],1,1,()=>{o[_]=null}),I()),~l?(e=o[l],e?e.p(r,f):(e=o[l]=h[l](r),e.c()),k(e,1),e.m(t,null)):e=null)},i(r){s||(k(e),s=!0)},o(r){O(e),s=!1},d(r){r&&g(t),~l&&o[l].d()}}}function X(i){let t,l,e=b(i[6]),s=[];for(let o=0;o<e.length;o+=1)s[o]=W(G(i,e,o));const h=o=>O(s[o],1,1,()=>{s[o]=null});return{c(){t=m("tr");for(let o=0;o<s.length;o+=1)s[o].c()},l(o){t=y(o,"TR",{});var n=T(t);for(let r=0;r<s.length;r+=1)s[r].l(n);n.forEach(g)},m(o,n){d(o,t,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null);l=!0},p(o,n){if(n&1){e=b(o[6]);let r;for(r=0;r<e.length;r+=1){const f=G(o,e,r);s[r]?(s[r].p(f,n),k(s[r],1)):(s[r]=W(f),s[r].c(),k(s[r],1),s[r].m(t,null))}for(N(),r=e.length;r<s.length;r+=1)h(r);I()}},i(o){if(!l){for(let n=0;n<e.length;n+=1)k(s[n]);l=!0}},o(o){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)O(s[n]);l=!1},d(o){o&&g(t),D(s,o)}}}function Y(i){let t,l,e,s,h,o=b(i[3].headRow),n=[];for(let u=0;u<o.length;u+=1)n[u]=Q(K(i,o,u));let r=b(i[3].body),f=[];for(let u=0;u<r.length;u+=1)f[u]=X(F(i,r,u));const _=u=>O(f[u],1,1,()=>{f[u]=null});return{c(){t=m("table"),l=m("tr");for(let u=0;u<n.length;u+=1)n[u].c();e=w();for(let u=0;u<f.length;u+=1)f[u].c();s=w(),this.h()},l(u){t=y(u,"TABLE",{class:!0});var c=T(t);l=y(c,"TR",{});var a=T(l);for(let p=0;p<n.length;p+=1)n[p].l(a);a.forEach(g),e=S(c);for(let p=0;p<f.length;p+=1)f[p].l(c);s=S(c),c.forEach(g),this.h()},h(){v(t,"class","svelte-mk0dx4")},m(u,c){d(u,t,c),C(t,l);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,null);C(t,e);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(t,null);C(t,s),h=!0},p(u,c){if(c&1){o=b(u[3].headRow);let a;for(a=0;a<o.length;a+=1){const p=K(u,o,a);n[a]?n[a].p(p,c):(n[a]=Q(p),n[a].c(),n[a].m(l,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=o.length}if(c&1){r=b(u[3].body);let a;for(a=0;a<r.length;a+=1){const p=F(u,r,a);f[a]?(f[a].p(p,c),k(f[a],1)):(f[a]=X(p),f[a].c(),k(f[a],1),f[a].m(t,s))}for(N(),a=r.length;a<f.length;a+=1)_(a);I()}},i(u){if(!h){for(let c=0;c<r.length;c+=1)k(f[c]);h=!0}},o(u){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)O(f[c]);h=!1},d(u){u&&g(t),D(n,u),D(f,u)}}}function me(i){let t,l="Truth Tables",e,s,h=`<a href="${he}/step1" class="svelte-mk0dx4">Prev</a>`,o,n,r,f=b(i[0].truth_tables),_=[];for(let c=0;c<f.length;c+=1)_[c]=Y(V(i,f,c));const u=c=>O(_[c],1,1,()=>{_[c]=null});return{c(){t=m("h1"),t.textContent=l,e=w(),s=m("section"),s.innerHTML=h,o=w(),n=m("section");for(let c=0;c<_.length;c+=1)_[c].c();this.h()},l(c){t=y(c,"H1",{"data-svelte-h":!0}),J(t)!=="svelte-1haxy2e"&&(t.textContent=l),e=S(c),s=y(c,"SECTION",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-1dsm6ul"&&(s.innerHTML=h),o=S(c),n=y(c,"SECTION",{class:!0});var a=T(n);for(let p=0;p<_.length;p+=1)_[p].l(a);a.forEach(g),this.h()},h(){v(s,"class","navigation svelte-mk0dx4"),v(n,"class","tablesDisplay svelte-mk0dx4")},m(c,a){d(c,t,a),d(c,e,a),d(c,s,a),d(c,o,a),d(c,n,a);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(n,null);r=!0},p(c,[a]){if(a&1){f=b(c[0].truth_tables);let p;for(p=0;p<f.length;p+=1){const q=V(c,f,p);_[p]?(_[p].p(q,a),k(_[p],1)):(_[p]=Y(q),_[p].c(),k(_[p],1),_[p].m(n,null))}for(N(),p=f.length;p<_.length;p+=1)u(p);I()}},i(c){if(!r){for(let a=0;a<f.length;a+=1)k(_[a]);r=!0}},o(c){_=_.filter(Boolean);for(let a=0;a<_.length;a+=1)O(_[a]);r=!1},d(c){c&&(g(t),g(e),g(s),g(o),g(n)),D(_,c)}}}function ye(i,t,l){let e;se(i,B,o=>l(0,e=o)),oe(async()=>{s(),h()});function s(){for(let o of e.murdle_categories.filter(n=>n.active)){o.options=[];const n=o.rawOptions.trim();n&&(o.options=n.split(`
`))}}function h(){M(B,e.truth_tables=[],e);const o=e.murdle_categories.findIndex(n=>n.name==="Suspects");for(let n of e.murdle_categories[o].options){let r=new fe({categories:e.murdle_categories,keyCategory:o,keyOption:e.murdle_categories[o].options.findIndex(f=>f===n)});M(B,e.truth_tables=[...e.truth_tables,r],e)}}return[e]}class Ce extends ee{constructor(t){super(),te(this,t,ye,me,Z,{})}}export{Ce as component};
