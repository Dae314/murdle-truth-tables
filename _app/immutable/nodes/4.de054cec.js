var ot=(n,t,l)=>{if(!t.has(n))throw TypeError("Cannot "+l)};var w=(n,t,l)=>(ot(n,t,"read from private field"),l?l.call(n):t.get(n)),L=(n,t,l)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,l)};import{s as et,n as x,f as j,e as nt,o as at,h as z}from"../chunks/scheduler.b82d157b.js";import{S as lt,i as st,g as m,h as y,j as T,f as d,k as b,a as g,z as D,m as P,s as I,n as R,c as S,x as C,B as it,o as q,y as U,d as k,b as B,t as O,p as H,r as rt,u as ct,v as ht,w as ft,A as V}from"../chunks/index.a145189e.js";import{v as ut,e as v,T as M}from"../chunks/TruthTableData.8171c4b0.js";import{H as _t}from"../chunks/control.f5b05b5f.js";import{b as pt}from"../chunks/paths.116dfb83.js";function dt(n,t){return new _t(n,t)}new TextEncoder;var $;class N{constructor(t){L(this,$,["unknown","assigned","eliminated"]);if(this.id="id"in t?t.id:ut(),this.name="name"in t?t.name:"",this.categoryID="categoryID"in t?t.categoryID:0,this.key="key"in t?t.key:!1,"state"in t)if(t.state>=0&&t.state<w(this,$).length)this.state=t.state;else throw dt(500,{message:"Invalid MurdleOption state specified."});else this.state=0}toggleState(){this.state=(this.state+1)%w(this,$).length}get stateStr(){return w(this,$)[this.state]}}$=new WeakMap;var E;class gt{constructor(t){L(this,E,[]);this.categories="categories"in t?[...t.categories].filter(l=>l.active):[],this.keyCategory="keyCategory"in t?t.keyCategory:0,this.keyOption="keyOption"in t?t.keyOption:0,this.categories[this.keyCategory]&&(this.categories[this.keyCategory].key=!0);for(let l of this.categories){if(l.key)for(let e=0;e<l.options.length;e++)e===this.keyOption?w(this,E).push(new N({name:l.options[e],categoryID:l.id,key:!0})):w(this,E).push(new N({name:l.options[e],categoryID:l.id}));for(let e of l.options)w(this,E).push(new N({name:e,categoryID:l.id}))}this.headRow=this.categories.map(l=>l.name),this.body=[];for(let l of this.categories[this.keyCategory].options){let e=[];e.push({data:l,type:"basic",key:this.categories[this.keyCategory].options.indexOf(l)===this.keyOption});for(let s of this.categories.filter((h,o)=>o!==this.keyCategory))e.push({data:w(this,E).filter(h=>h.categoryID===s.id),type:"optionList"});this.body.push(e)}}}E=new WeakMap;function F(n,t,l){const e=n.slice();return e[2]=t[l],e[3]=t,e[4]=l,e}function G(n){let t,l,e=n[2].name+"",s,h,o,a,r;function f(){return n[1](n[2],n[3],n[4])}return{c(){t=m("button"),l=m("span"),s=P(e),h=I(),this.h()},l(_){t=y(_,"BUTTON",{type:!0,class:!0});var u=T(t);l=y(u,"SPAN",{});var c=T(l);s=R(c,e),c.forEach(d),h=S(u),u.forEach(d),this.h()},h(){b(t,"type","button"),b(t,"class",o=j(n[2].stateStr)+" svelte-1pgqe01")},m(_,u){g(_,t,u),C(t,l),C(l,s),C(t,h),a||(r=it(t,"click",f),a=!0)},p(_,u){n=_,u&1&&e!==(e=n[2].name+"")&&q(s,e),u&1&&o!==(o=j(n[2].stateStr)+" svelte-1pgqe01")&&b(t,"class",o)},d(_){_&&d(t),a=!1,r()}}}function mt(n){let t,l=v(n[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=G(F(n,l,s));return{c(){t=m("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=y(s,"DIV",{class:!0});var h=T(t);for(let o=0;o<e.length;o+=1)e[o].l(h);h.forEach(d),this.h()},h(){b(t,"class","optionPicker svelte-1pgqe01")},m(s,h){g(s,t,h);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null)},p(s,[h]){if(h&1){l=v(s[0]);let o;for(o=0;o<l.length;o+=1){const a=F(s,l,o);e[o]?e[o].p(a,h):(e[o]=G(a),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},i:x,o:x,d(s){s&&d(t),D(e,s)}}}function yt(n,t,l){let{options:e=[]}=t;const s=(h,o,a)=>{h.toggleState(),l(0,o[a].state=h.state,e)};return n.$$set=h=>{"options"in h&&l(0,e=h.options)},[e,s]}class kt extends lt{constructor(t){super(),st(this,t,yt,mt,et,{options:0})}}function J(n,t,l){const e=n.slice();return e[3]=t[l],e}function K(n,t,l){const e=n.slice();return e[6]=t[l],e}function Q(n,t,l){const e=n.slice();return e[9]=t[l],e[11]=l,e}function W(n,t,l){const e=n.slice();return e[12]=t[l],e}function X(n){let t,l=n[12]+"",e;return{c(){t=m("th"),e=P(l),this.h()},l(s){t=y(s,"TH",{class:!0});var h=T(t);e=R(h,l),h.forEach(d),this.h()},h(){b(t,"class","svelte-mk0dx4")},m(s,h){g(s,t,h),C(t,e)},p(s,h){h&1&&l!==(l=s[12]+"")&&q(e,l)},d(s){s&&d(t)}}}function vt(n){let t,l;return t=new kt({props:{options:n[9].data}}),{c(){rt(t.$$.fragment)},l(e){ct(t.$$.fragment,e)},m(e,s){ht(t,e,s),l=!0},p(e,s){const h={};s&1&&(h.options=e[9].data),t.$set(h)},i(e){l||(k(t.$$.fragment,e),l=!0)},o(e){O(t.$$.fragment,e),l=!1},d(e){ft(t,e)}}}function bt(n){let t,l=n[9].data+"",e;return{c(){t=m("span"),e=P(l),this.h()},l(s){t=y(s,"SPAN",{class:!0});var h=T(t);e=R(h,l),h.forEach(d),this.h()},h(){b(t,"class","svelte-mk0dx4"),V(t,"key",n[9].key)},m(s,h){g(s,t,h),C(t,e)},p(s,h){h&1&&l!==(l=s[9].data+"")&&q(e,l),h&1&&V(t,"key",s[9].key)},i:x,o:x,d(s){s&&d(t)}}}function Y(n){let t,l,e,s;const h=[bt,vt],o=[];function a(r,f){return r[9].type==="basic"?0:r[9].type==="optionList"?1:-1}return~(l=a(n))&&(e=o[l]=h[l](n)),{c(){t=m("td"),e&&e.c(),this.h()},l(r){t=y(r,"TD",{class:!0});var f=T(t);e&&e.l(f),f.forEach(d),this.h()},h(){b(t,"class","svelte-mk0dx4")},m(r,f){g(r,t,f),~l&&o[l].m(t,null),s=!0},p(r,f){let _=l;l=a(r),l===_?~l&&o[l].p(r,f):(e&&(H(),O(o[_],1,1,()=>{o[_]=null}),B()),~l?(e=o[l],e?e.p(r,f):(e=o[l]=h[l](r),e.c()),k(e,1),e.m(t,null)):e=null)},i(r){s||(k(e),s=!0)},o(r){O(e),s=!1},d(r){r&&d(t),~l&&o[l].d()}}}function Z(n){let t,l,e=v(n[6]),s=[];for(let o=0;o<e.length;o+=1)s[o]=Y(Q(n,e,o));const h=o=>O(s[o],1,1,()=>{s[o]=null});return{c(){t=m("tr");for(let o=0;o<s.length;o+=1)s[o].c()},l(o){t=y(o,"TR",{});var a=T(t);for(let r=0;r<s.length;r+=1)s[r].l(a);a.forEach(d)},m(o,a){g(o,t,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null);l=!0},p(o,a){if(a&1){e=v(o[6]);let r;for(r=0;r<e.length;r+=1){const f=Q(o,e,r);s[r]?(s[r].p(f,a),k(s[r],1)):(s[r]=Y(f),s[r].c(),k(s[r],1),s[r].m(t,null))}for(H(),r=e.length;r<s.length;r+=1)h(r);B()}},i(o){if(!l){for(let a=0;a<e.length;a+=1)k(s[a]);l=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)O(s[a]);l=!1},d(o){o&&d(t),D(s,o)}}}function tt(n){let t,l,e,s,h,o=v(n[3].headRow),a=[];for(let u=0;u<o.length;u+=1)a[u]=X(W(n,o,u));let r=v(n[3].body),f=[];for(let u=0;u<r.length;u+=1)f[u]=Z(K(n,r,u));const _=u=>O(f[u],1,1,()=>{f[u]=null});return{c(){t=m("table"),l=m("tr");for(let u=0;u<a.length;u+=1)a[u].c();e=I();for(let u=0;u<f.length;u+=1)f[u].c();s=I(),this.h()},l(u){t=y(u,"TABLE",{class:!0});var c=T(t);l=y(c,"TR",{});var i=T(l);for(let p=0;p<a.length;p+=1)a[p].l(i);i.forEach(d),e=S(c);for(let p=0;p<f.length;p+=1)f[p].l(c);s=S(c),c.forEach(d),this.h()},h(){b(t,"class","svelte-mk0dx4")},m(u,c){g(u,t,c),C(t,l);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(l,null);C(t,e);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(t,null);C(t,s),h=!0},p(u,c){if(c&1){o=v(u[3].headRow);let i;for(i=0;i<o.length;i+=1){const p=W(u,o,i);a[i]?a[i].p(p,c):(a[i]=X(p),a[i].c(),a[i].m(l,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=o.length}if(c&1){r=v(u[3].body);let i;for(i=0;i<r.length;i+=1){const p=K(u,r,i);f[i]?(f[i].p(p,c),k(f[i],1)):(f[i]=Z(p),f[i].c(),k(f[i],1),f[i].m(t,s))}for(H(),i=r.length;i<f.length;i+=1)_(i);B()}},i(u){if(!h){for(let c=0;c<r.length;c+=1)k(f[c]);h=!0}},o(u){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)O(f[c]);h=!1},d(u){u&&d(t),D(a,u),D(f,u)}}}function Tt(n){let t,l="Truth Tables",e,s,h=`<a href="${pt}/step1" class="svelte-mk0dx4">Prev</a>`,o,a,r,f=v(n[0].truth_tables),_=[];for(let c=0;c<f.length;c+=1)_[c]=tt(J(n,f,c));const u=c=>O(_[c],1,1,()=>{_[c]=null});return{c(){t=m("h1"),t.textContent=l,e=I(),s=m("section"),s.innerHTML=h,o=I(),a=m("section");for(let c=0;c<_.length;c+=1)_[c].c();this.h()},l(c){t=y(c,"H1",{"data-svelte-h":!0}),U(t)!=="svelte-1haxy2e"&&(t.textContent=l),e=S(c),s=y(c,"SECTION",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-1dsm6ul"&&(s.innerHTML=h),o=S(c),a=y(c,"SECTION",{class:!0});var i=T(a);for(let p=0;p<_.length;p+=1)_[p].l(i);i.forEach(d),this.h()},h(){b(s,"class","navigation svelte-mk0dx4"),b(a,"class","tablesDisplay svelte-mk0dx4")},m(c,i){g(c,t,i),g(c,e,i),g(c,s,i),g(c,o,i),g(c,a,i);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(a,null);r=!0},p(c,[i]){if(i&1){f=v(c[0].truth_tables);let p;for(p=0;p<f.length;p+=1){const A=J(c,f,p);_[p]?(_[p].p(A,i),k(_[p],1)):(_[p]=tt(A),_[p].c(),k(_[p],1),_[p].m(a,null))}for(H(),p=f.length;p<_.length;p+=1)u(p);B()}},i(c){if(!r){for(let i=0;i<f.length;i+=1)k(_[i]);r=!0}},o(c){_=_.filter(Boolean);for(let i=0;i<_.length;i+=1)O(_[i]);r=!1},d(c){c&&(d(t),d(e),d(s),d(o),d(a)),D(_,c)}}}function Ot(n,t,l){let e;nt(n,M,o=>l(0,e=o)),at(async()=>{s(),h()});function s(){for(let o of e.murdle_categories.filter(a=>a.active)){o.options=[];const a=o.rawOptions.trim();a&&(o.options=a.split(`
`))}}function h(){z(M,e.truth_tables=[],e);const o=e.murdle_categories.findIndex(a=>a.name==="Suspects");for(let a of e.murdle_categories[o].options){let r=new gt({categories:e.murdle_categories,keyCategory:o,keyOption:e.murdle_categories[o].options.findIndex(f=>f===a)});z(M,e.truth_tables=[...e.truth_tables,r],e)}}return[e]}class St extends lt{constructor(t){super(),st(this,t,Ot,Tt,et,{})}}export{St as component};
